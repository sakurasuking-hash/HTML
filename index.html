<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8" />
	<title>产品列表页 Demo</title>
	<style>
		* {
			box-sizing: border-box;
			margin: 0;
			padding: 0;
			font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
		}

		body {
			background: #f5f5f7;
			padding: 24px;
			color: #333;
		}

		.page {
			max-width: 1200px;
			margin: 0 auto;
			background: #fff;
			border-radius: 8px;
			box-shadow: 0 2px 6px rgba(0,0,0,0.05);
			padding: 20px 24px 24px;
		}

		h1 {
			font-size: 20px;
			margin-bottom: 16px;
		}

		.section-title {
			font-size: 16px;
			margin: 20px 0 12px;
			font-weight: 600;
		}

		/* 顶部筛选区 */
		.filter-bar {
			display: flex;
			flex-wrap: wrap;
			gap: 12px 16px;
			align-items: center;
			margin-bottom: 16px;
		}

		.filter-item {
			display: flex;
			align-items: center;
			gap: 8px;
		}

		.filter-item label {
			font-size: 13px;
			color: #555;
			white-space: nowrap;
		}

		.filter-item select {
			min-width: 160px;
			padding: 4px 8px;
			border-radius: 4px;
			border: 1px solid #d0d0d5;
			font-size: 13px;
			background: #fff;
		}

		.button {
			padding: 6px 16px;
			border-radius: 4px;
			border: none;
			font-size: 13px;
			cursor: pointer;
		}

		.button-primary {
			background: #0052d9;
			color: #fff;
		}

		.button-secondary {
			background: #f5f5f7;
			color: #333;
			border: 1px solid #d0d0d5;
		}

		/* 列表表格 */
		table {
			width: 100%;
			border-collapse: collapse;
			font-size: 13px;
			margin-top: 8px;
		}

		thead {
			background: #f7f8fa;
		}

		th, td {
			padding: 8px 10px;
			border-bottom: 1px solid #eee;
			text-align: left;
			white-space: nowrap;
		}

		th {
			color: #666;
			font-weight: 500;
		}

		tbody tr:hover {
			background: #f9fafc;
		}

		.tag {
			display: inline-block;
			padding: 0 6px;
			border-radius: 10px;
			font-size: 12px;
			background: #e6f3ff;
			color: #0052d9;
		}

		.status-tag {
			padding: 0 6px;
			border-radius: 10px;
			font-size: 12px;
		}

		.status-publish {
			background: #e8ffea;
			color: #15a652;
		}

		.status-draft {
			background: #fff7e6;
			color: #d46b08;
		}

		.status-offline {
			background: #f5f5f5;
			color: #999;
		}

		.actions button {
			margin-right: 4px;
		}

		/* 分页 */
		.pagination {
			margin-top: 12px;
			display: flex;
			justify-content: space-between;
			align-items: center;
			font-size: 13px;
		}

		.page-buttons button {
			margin-left: 4px;
			padding: 4px 10px;
			border-radius: 4px;
			border: 1px solid #d0d0d5;
			background: #fff;
			cursor: pointer;
		}

		.page-buttons button.active {
			background: #0052d9;
			color: #fff;
			border-color: #0052d9;
		}

		/* 小提示 */
		.hint {
			margin-top: 6px;
			font-size: 12px;
			color: #999;
		}
	</style>
</head>
<body>
<div class="page">
	<h1>三、产品列表页（演示版）</h1>

	<div class="section-title">3.2 顶部筛选区域</div>
	<div class="filter-bar">
		<div class="filter-item">
			<label for="typeSelect">产品类型</label>
			<select id="typeSelect">
				<option value="">全部</option>
				<option value="培训课程类">培训课程类</option>
				<option value="投研资讯服务类">投研资讯服务类</option>
				<option value="量化信号类">量化信号类</option>
				<option value="主观策略类">主观策略类</option>
				<option value="信息服务类">信息服务类</option>
				<option value="其他">其他</option>
			</select>
		</div>

		<div class="filter-item">
			<label for="formSelect">产品形式</label>
			<select id="formSelect">
				<option value="">全部</option>
				<option value="单品种策略">单品种策略</option>
				<option value="组合策略">组合策略</option>
				<option value="线上产品">线上产品</option>
				<option value="直播产品">直播产品</option>
				<option value="线下产品">线下产品</option>
				<option value="同花顺产品">同花顺产品</option>
				<option value="自定义产品">自定义产品</option>
			</select>
		</div>

		<div class="filter-item">
			<label for="riskSelect">风险等级</label>
			<select id="riskSelect">
				<option value="">全部</option>
				<option value="R1">R1</option>
				<option value="R2">R2</option>
				<option value="R3">R3</option>
				<option value="R4">R4</option>
			</select>
		</div>

		<div class="filter-item">
			<label for="signSelect">是否签约产品</label>
			<select id="signSelect">
				<option value="">全部</option>
				<option value="已签约">已签约</option>
				<option value="未签约">未签约</option>
			</select>
		</div>

		<div class="filter-item">
			<label for="statusSelect">产品状态</label>
			<select id="statusSelect">
				<option value="">全部</option>
				<option value="草稿">草稿</option>
				<option value="预发布">预发布</option>
				<option value="已发布">已发布</option>
				<option value="下线">下线</option>
			</select>
		</div>

		<button class="button button-primary" id="searchBtn">查询</button>
		<button class="button button-secondary" id="resetBtn">重置</button>
	</div>

	<div class="hint" id="constraintHint">
		当选择不同的「产品类型」时，下方仅展示与之匹配的「产品形式」，具体约束规则待补充配置。
	</div>

	<div class="section-title">3.3 列表区展示</div>
	<table>
		<thead>
		<tr>
			<th>产品名称</th>
			<th>产品编号</th>
			<th>产品类型</th>
			<th>产品形式</th>
			<th>风险等级</th>
			<th>是否签约</th>
			<th>所属系列</th>
			<th>价格类型</th>
			<th>出品人</th>
			<th>排序</th>
			<th>产品状态</th>
			<th>操作</th>
		</tr>
		</thead>
		<tbody id="productTbody">
		<!-- 行数据由 JS 渲染 -->
		</tbody>
	</table>

	<div class="pagination">
		<div id="summaryText">共 0 条记录</div>
		<div class="page-buttons">
			<button class="prevBtn">上一页</button>
			<button class="pageBtn active">1</button>
			<button class="pageBtn">2</button>
			<button class="nextBtn">下一页</button>
		</div>
	</div>
</div>

<script>
	// 模拟一些产品数据
	const products = [
		{
			name: "矿金智选14号-焦煤JM",
			code: "WK001402250123",
			type: "量化信号类",
			form: "单品种策略",
			risk: "R3",
			signed: "已签约",
			series: "矿金优选（R3）",
			priceType: "按月订阅",
			owner: "五矿期货投资咨询团队",
			order: 1,
			status: "已发布"
		},
		{
			name: "矿金组合01号-多品种",
			code: "WK001402250124",
			type: "量化信号类",
			form: "组合策略",
			risk: "R3",
			signed: "已签约",
			series: "矿金优选（R3）",
			priceType: "按月订阅",
			owner: "五矿期货投资咨询团队",
			order: 2,
			status: "预发布"
		},
		{
			name: "期货基础培训班（R3）",
			code: "WK002202250201",
			type: "培训课程类",
			form: "线上产品",
			risk: "R3",
			signed: "未签约",
			series: "精品课堂R3",
			priceType: "单次购买",
			owner: "投教中心",
			order: 3,
			status: "已发布"
		},
		{
			name: "日度策略点评直播",
			code: "WK003202250301",
			type: "投研资讯服务类",
			form: "直播产品",
			risk: "R3",
			signed: "已签约",
			series: "高端讲堂R4",
			priceType: "按月订阅",
			owner: "研究所",
			order: 4,
			status: "草稿"
		},
		{
			name: "重点合约快讯包",
			code: "WK004202250401",
			type: "信息服务类",
			form: "线上产品",
			risk: "R2",
			signed: "未签约",
			series: "信息服务",
			priceType: "免费",
			owner: "信息服务团队",
			order: 5,
			status: "下线"
		}
	];

	const typeSelect = document.getElementById("typeSelect");
	const formSelect = document.getElementById("formSelect");
	const riskSelect = document.getElementById("riskSelect");
	const signSelect = document.getElementById("signSelect");
	const statusSelect = document.getElementById("statusSelect");
	const searchBtn = document.getElementById("searchBtn");
	const resetBtn = document.getElementById("resetBtn");
	const tbody = document.getElementById("productTbody");
	const summaryText = document.getElementById("summaryText");

	// 简单的“产品类型 → 产品形式”约束示例，可后续替换为你自己的配置
	const formOptionsByType = {
		"量化信号类": ["单品种策略", "组合策略", "自定义产品"],
		"培训课程类": ["线上产品", "线下产品"],
		"投研资讯服务类": ["线上产品", "直播产品"],
		"主观策略类": ["单品种策略", "组合策略"],
		"信息服务类": ["线上产品"],
		"其他": ["自定义产品"]
	};

	function refreshFormOptions() {
		const type = typeSelect.value;
		const allOptions = [
			"单品种策略",
			"组合策略",
			"线上产品",
			"直播产品",
			"线下产品",
			"同花顺产品",
			"自定义产品"
		];

		// 当前选中的产品形式是否仍然有效
		const currentForm = formSelect.value;

		// 清空
		formSelect.innerHTML = "";
		const optAll = document.createElement("option");
		optAll.value = "";
		optAll.textContent = "全部";
		formSelect.appendChild(optAll);

		let allowed = allOptions;
		if (type && formOptionsByType[type]) {
			allowed = formOptionsByType[type];
		}

		allowed.forEach(f => {
			const opt = document.createElement("option");
			opt.value = f;
			opt.textContent = f;
			formSelect.appendChild(opt);
		});

		// 不兼容则重置为空
		if (!allowed.includes(currentForm)) {
			formSelect.value = "";
		} else {
			formSelect.value = currentForm;
		}
	}

	function renderTable(list) {
		tbody.innerHTML = "";
		list.forEach(p => {
			const tr = document.createElement("tr");

			const statusClass =
				p.status === "已发布" ? "status-publish" :
				p.status === "草稿" || p.status === "预发布" ? "status-draft" :
				"status-offline";

			tr.innerHTML = `
				<td><span class="link">${p.name}</span></td>
				<td>${p.code}</td>
				<td>${p.type}</td>
				<td>${p.form}</td>
				<td>${p.risk}</td>
				<td>${p.signed}</td>
				<td>${p.series}</td>
				<td>${p.priceType}</td>
				<td>${p.owner}</td>
				<td>${p.order}</td>
				<td><span class="status-tag ${statusClass}">${p.status}</span></td>
				<td class="actions">
					<button class="button button-secondary" data-action="edit">编辑</button>
					<button class="button button-primary" data-action="publish">发布</button>
					<button class="button button-secondary" data-action="offline">下线</button>
				</td>
			`;
			tbody.appendChild(tr);
		});

		summaryText.textContent = `共 ${list.length} 条记录`;
	}

	function applyFilter() {
		const type = typeSelect.value;
		const form = formSelect.value;
		const risk = riskSelect.value;
		const sign = signSelect.value;
		const status = statusSelect.value;

		const filtered = products.filter(p => {
			if (type && p.type !== type) return false;
			if (form && p.form !== form) return false;
			if (risk && p.risk !== risk) return false;
			if (sign && p.signed !== sign) return false;
			if (status && p.status !== status) return false;
			return true;
		});

		renderTable(filtered);
	}

	function resetFilter() {
		typeSelect.value = "";
		formSelect.value = "";
		riskSelect.value = "";
		signSelect.value = "";
		statusSelect.value = "";
		refreshFormOptions();
		renderTable(products);
	}

	// 事件绑定
	typeSelect.addEventListener("change", () => {
		refreshFormOptions();
	});

	searchBtn.addEventListener("click", applyFilter);
	resetBtn.addEventListener("click", resetFilter);

	// 简单操作按钮交互演示（弹出提示）
	tbody.addEventListener("click", (e) => {
		const btn = e.target;
		if (btn.dataset.action) {
			const tr = btn.closest("tr");
			const name = tr.firstElementChild.textContent.trim();
			alert(`【${btn.dataset.action}】操作，仅为演示：\n产品：${name}`);
		}
	});

	// 初始渲染
	refreshFormOptions();
	renderTable(products);
</script>
</body>
</html>